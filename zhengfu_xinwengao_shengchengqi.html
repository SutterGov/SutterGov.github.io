<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨ç‰¹ç¬¬äºŒå…±å’Œå›½æ”¿åºœæ–°é—»ç¨¿ç”Ÿæˆå™¨ | Sutter Republic II Press Release Generator</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=Noto+Serif+SC:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans SC", "Microsoft YaHei", "PingFang SC", sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
        }

        @media (max-width: 1100px) {
            .container { grid-template-columns: 1fr; }
        }

        /* å·¦ä¾§æ§åˆ¶é¢æ¿ */
        .control-panel {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            height: fit-content;
            border-top: 4px solid #00b4db;
            position: sticky;
            top: 20px;
        }

        .panel-title {
            font-size: 1.4rem;
            color: #0f2027;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #203a43;
            font-size: 0.85rem;
        }

        input[type="text"], textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s;
            font-family: "Noto Sans SC", sans-serif;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #00b4db;
            box-shadow: 0 0 0 3px rgba(0,180,219,0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
            line-height: 1.5;
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00b4db 0%, #0083b0 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(0,180,219,0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,180,219,0.4);
        }

        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #00b4db;
            padding: 12px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 0.8rem;
            color: #555;
        }

        /* å³ä¾§é¢„è§ˆåŒº */
        .preview-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* A4 æ–°é—»ç¨¿å®¹å™¨ */
        .document-container {
            width: 210mm;
            min-height: 297mm;
            height: auto;
            background: white;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            font-family: "Noto Sans SC", "Microsoft YaHei", sans-serif;
        }

        @media (max-width: 900px) {
            .document-container {
                width: 100%;
                transform: scale(0.85);
                transform-origin: top center;
            }
        }

        /* é¡¶éƒ¨è£…é¥°æ¡ */
        .header-decoration {
            width: 100%;
            height: 15mm;
            background: linear-gradient(135deg, #00b4db 0%, #0083b0 50%, #00d2ff 100%);
            position: relative;
            overflow: hidden;
        }

        .header-decoration::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            height: 40px;
            background: white;
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
        }

        /* å¤´éƒ¨å†…å®¹åŒº */
        .header-content {
            padding: 20mm 25mm 10mm;
            text-align: center;
            position: relative;
        }

        .emblem {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: url('https://i.imgs.ovh/2026/01/28/y9gXK9.png') center/contain no-repeat;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .gov-name {
            font-size: 14pt;
            color: #555;
            font-weight: 500;
            letter-spacing: 1px;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .ministry-name {
            font-size: 24pt;
            font-weight: 700;
            color: #0f2027;
            margin-bottom: 8px;
            letter-spacing: 1px;
            border-bottom: 3px solid #00b4db;
            display: inline-block;
            padding-bottom: 5px;
        }

        .department-name {
            font-size: 12pt;
            color: #666;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .address {
            font-size: 10pt;
            color: #777;
            font-style: italic;
            margin-bottom: 15px;
        }

        .release-label {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 40px;
            font-size: 14pt;
            font-weight: 700;
            letter-spacing: 8px;
            margin: 15px 0;
            border-radius: 2px;
            text-transform: uppercase;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .release-date {
            text-align: right;
            font-size: 12pt;
            color: #333;
            font-weight: 600;
            margin: 10px 25mm 20px;
            font-family: "Times New Roman", serif;
        }

        /* æ­£æ–‡åŒºåŸŸ */
        .body-content {
            padding: 0 25mm;
            flex: 1;
            font-size: 12pt;
            line-height: 1.8;
            color: #222;
            text-align: justify;
        }

        .news-title {
            font-size: 20pt;
            font-weight: 700;
            color: #0f2027;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.4;
            text-decoration: underline;
            text-decoration-color: #00b4db;
            text-decoration-thickness: 3px;
            text-underline-offset: 8px;
            font-family: "Noto Serif SC", "Source Han Serif SC", serif;
        }

        .news-body {
            margin-bottom: 20px;
        }

        .news-body p {
            margin-bottom: 1.2em;
            text-indent: 0;
        }

        .lead-paragraph {
            font-weight: 600;
            font-size: 12.5pt;
        }

        .location-date {
            font-weight: 700;
            color: #0f2027;
        }

        /* ç­¾ååŒº */
        .signature-section {
            margin-top: 40px;
            padding: 0 25mm;
            page-break-inside: avoid;
        }

        .sign-off {
            font-size: 11pt;
            color: #555;
            margin-bottom: 30px;
            font-style: italic;
        }

        .signature-block {
            margin-left: 50%;
            text-align: left;
        }

        .signature-line {
            border-bottom: 1px solid #333;
            width: 200px;
            margin-bottom: 5px;
            height: 30px;
        }

        .signature-name {
            font-weight: 700;
            font-size: 12pt;
            color: #0f2027;
        }

        .signature-title {
            font-size: 10pt;
            color: #666;
            margin-top: 3px;
        }

        /* åº•éƒ¨è”ç³»ä¿¡æ¯æ  */
        .footer-bar {
            margin-top: auto;
            background: linear-gradient(135deg, #00b4db 0%, #0083b0 100%);
            padding: 15mm 25mm;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 9pt;
            flex: 1;
        }

        .contact-icon {
            width: 24px;
            height: 24px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
        }

        .contact-text {
            line-height: 1.4;
        }

        .contact-label {
            font-weight: 600;
            display: block;
            margin-bottom: 2px;
        }

        /* æ—¶é—´æˆ³ */
        .timestamp {
            position: absolute;
            bottom: 5mm;
            right: 5mm;
            font-size: 8pt;
            color: rgba(255,255,255,0.7);
            font-family: "Consolas", monospace;
        }

        /* ä¸‹è½½æŒ‰é’® */
        .download-section {
            position: sticky;
            bottom: 20px;
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
            text-align: center;
            width: 210mm;
        }

        .btn-download {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 40px;
            font-size: 1.1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102,126,234,0.5);
        }

        .loading-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            z-index: 9999;
            flex-direction: column;
            gap: 15px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #00b4db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loading">
        <div class="spinner"></div>
        <div>æ­£åœ¨ç”Ÿæˆæ–°é—»ç¨¿...</div>
    </div>

    <div class="container">
        <div class="control-panel">
            <div class="panel-title">
                <span>ğŸ™ï¸</span>
                <span>æ–°é—»ç¨¿ä¿¡æ¯å½•å…¥</span>
            </div>

            <div class="form-group">
                <label>æ”¿åºœéƒ¨é—¨</label>
                <input type="text" id="ministry" placeholder="å¦‚ï¼šå¤–äº¤éƒ¨" value="å¤–äº¤éƒ¨">
            </div>

            <div class="form-group">
                <label>ä¸‹å±å•ä½/å¸å±€</label>
                <input type="text" id="department" placeholder="å¦‚ï¼šæ–°é—»å¸" value="æ–°é—»å¸">
            </div>

            <div class="form-group">
                <label>åŠå…¬åœ°å€</label>
                <input type="text" id="address" placeholder="å¦‚ï¼šæ–°è¨ç‰¹å¸‚ä¸­å¤®å¤§é“1å·" value="æ–°è¨ç‰¹å¸‚ä¸­å¤®å¤§é“1å·æ”¿åºœå¤§æ¥¼">
            </div>

            <div class="form-group">
                <label>å‘å¸ƒæ—¥æœŸ</label>
                <input type="text" id="releaseDate" placeholder="å¦‚ï¼š2026å¹´1æœˆ28æ—¥" value="">
            </div>

            <div class="form-group">
                <label>æ–°é—»æ ‡é¢˜</label>
                <input type="text" id="title" placeholder="è¯·è¾“å…¥æ–°é—»æ ‡é¢˜" value="è¨ç‰¹ç¬¬äºŒå…±å’Œå›½ä¸è”åˆå›½å¼€å‘è®¡åˆ’ç½²ç­¾ç½²åˆä½œå¤‡å¿˜å½•">
            </div>

            <div class="form-group">
                <label>å¯¼è¯­/é¦–æ®µï¼ˆå¯åŠ ç²—ï¼‰</label>
                <textarea id="lead" rows="3" placeholder="æ–°é—»å¯¼è¯­...">æ–°è¨ç‰¹å¸‚ï¼Œ2026å¹´1æœˆ28æ—¥ â€”â€” è¨ç‰¹ç¬¬äºŒå…±å’Œå›½å¤–äº¤éƒ¨ä»Šæ—¥å®£å¸ƒï¼Œæˆ‘å›½å·²ä¸è”åˆå›½å¼€å‘è®¡åˆ’ç½²ï¼ˆUNDPï¼‰æ­£å¼ç­¾ç½²ä¸ºæœŸäº”å¹´çš„æˆ˜ç•¥åˆä½œå¤‡å¿˜å½•ï¼Œæ—¨åœ¨æ¨åŠ¨å¯æŒç»­å‘å±•ç›®æ ‡ï¼ˆSDGsï¼‰åœ¨è¨ç‰¹åœ°åŒºçš„å…¨é¢è½å®ã€‚</textarea>
            </div>

            <div class="form-group">
                <label>æ­£æ–‡å†…å®¹</label>
                <textarea id="body" rows="8" placeholder="è¯·è¾“å…¥æ­£æ–‡å†…å®¹...">æ ¹æ®è¯¥å¤‡å¿˜å½•ï¼Œè”åˆå›½å¼€å‘è®¡åˆ’ç½²å°†åœ¨æœªæ¥äº”å¹´å†…å‘è¨ç‰¹ç¬¬äºŒå…±å’Œå›½æä¾›æŠ€æœ¯æ´åŠ©å’Œèµ„é‡‘æ”¯æŒï¼Œé‡ç‚¹èšç„¦äºæ°”å€™å˜åŒ–é€‚åº”ã€æ•°å­—åŒ–æ²»ç†ä»¥åŠé’å¹´å°±ä¸šä¸‰å¤§é¢†åŸŸã€‚

å¤–äº¤éƒ¨é•¿Schnekovåœ¨ç­¾ç½²ä»ªå¼ä¸Šè¡¨ç¤ºï¼š"æ­¤æ¬¡åˆä½œæ ‡å¿—ç€è¨ç‰¹ç¬¬äºŒå…±å’Œå›½æ·±åº¦å‚ä¸å…¨çƒæ²»ç†ä½“ç³»çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚æˆ‘ä»¬æœŸå¾…é€šè¿‡ä¸UNDPçš„ç´§å¯†åä½œï¼Œå°†æˆ‘å›½çš„å‘å±•ç»éªŒä¸è”åˆå›½2030å¹´å¯æŒç»­å‘å±•è®®ç¨‹æœ‰æœºç»“åˆã€‚"

æ®æ‚‰ï¼Œé¦–æ‰¹åˆä½œé¡¹ç›®å°†äºä»Šå¹´ç¬¬äºŒå­£åº¦æ­£å¼å¯åŠ¨ï¼ŒåŒ…æ‹¬å»ºç«‹è¨ç‰¹æ•°å­—åˆ›æ–°ä¸­å¿ƒä»¥åŠå®æ–½"ç»¿è‰²é’å¹´å°±ä¸šè®¡åˆ’"ã€‚è”åˆå›½å¼€å‘è®¡åˆ’ç½²ç½²é•¿å¯¹æ­¤è¡¨ç¤ºé«˜åº¦èµèµï¼Œç§°è¨ç‰¹ç¬¬äºŒå…±å’Œå›½åœ¨åŒºåŸŸåˆä½œä¸­å±•ç°äº†å“è¶Šçš„é¢†å¯¼åŠ›ã€‚

è¯¥å¤‡å¿˜å½•çš„ç­¾ç½²ä¹Ÿå¾—åˆ°äº†å›½ä¼šä¸¤é™¢çš„ä¸€è‡´æ”¯æŒã€‚å‚è®®é™¢å¤–äº¤å…³ç³»å§”å‘˜ä¼šä¸»å¸­è¡¨ç¤ºï¼Œè¿™å°†æœ‰åŠ©äºæå‡è¨ç‰¹ç¬¬äºŒå…±å’Œå›½åœ¨å›½é™…å‘å±•é¢†åŸŸçš„å½±å“åŠ›ï¼Œå¹¶ä¸ºå…¶ä»–å›½å®¶æä¾›å¯å¤åˆ¶çš„åˆä½œæ¨¡å¼ã€‚</textarea>
            </div>

            <div class="form-group">
                <label>å‘æ–‡äººå§“å</label>
                <input type="text" id="issuer" placeholder="å¦‚ï¼šSchnekov" value="Schnekov">
            </div>

            <div class="form-group">
                <label>å‘æ–‡äººèŒåŠ¡</label>
                <input type="text" id="issuerTitle" placeholder="å¦‚ï¼šå¤–äº¤éƒ¨é•¿" value="å¤–äº¤éƒ¨é•¿">
            </div>

            <div class="form-group">
                <label>è”ç³»ç”µè¯</label>
                <input type="text" id="phone" placeholder="å¦‚ï¼š+1 (868) 627-1047" value="+86 10-8888-8888">
            </div>

            <div class="form-group">
                <label>å®˜æ–¹ç½‘ç«™</label>
                <input type="text" id="website" placeholder="å¦‚ï¼šwww.mfa.gov.sr" value="www.mfa.gov.sr">
            </div>

            <div class="form-group">
                <label>ç”µå­é‚®ç®±</label>
                <input type="text" id="email" placeholder="å¦‚ï¼špress@mfa.gov.sr" value="press@mfa.gov.sr">
            </div>

            <button class="btn btn-primary" onclick="updateDocument()">ğŸ”„ æ›´æ–°é¢„è§ˆ</button>
            
            <div class="info-box">
                <strong>ğŸ’¡ æç¤ºï¼š</strong><br>
                â€¢ é¡¶éƒ¨è“ç»¿è‰²æ¸å˜æ¡æ¨¡ä»¿å‚è€ƒå›¾è®¾è®¡<br>
                â€¢ æ­£æ–‡æ”¯æŒè‡ªé€‚åº”é«˜åº¦ï¼Œè‡ªåŠ¨å»¶é•¿é¡µé¢<br>
                â€¢ åº•éƒ¨è”ç³»æ å½©è‰²è®¾è®¡å¢å¼ºè§†è§‰è¯†åˆ«<br>
                â€¢ å»ºè®®é¦–æ®µåŒ…å«åœ°ç‚¹å’Œæ—¥æœŸï¼ˆå¦‚å‚è€ƒå›¾æ ¼å¼ï¼‰
            </div>
        </div>

        <div class="preview-area">
            <div class="document-container" id="document">
                <!-- é¡¶éƒ¨è£…é¥° -->
                <div class="header-decoration"></div>
                
                <!-- å¤´éƒ¨å†…å®¹ -->
                <div class="header-content">
                    <div class="emblem"></div>
                    <div class="gov-name">Government of Sutter Republic II</div>
                    <div class="ministry-name" id="dispMinistry">å¤–äº¤éƒ¨</div>
                    <div class="department-name" id="dispDept">æ–°é—»å¸</div>
                    <div class="address" id="dispAddress">æ–°è¨ç‰¹å¸‚ä¸­å¤®å¤§é“1å·æ”¿åºœå¤§æ¥¼</div>
                    <div class="release-label">MEDIA RELEASE</div>
                </div>

                <!-- æ—¥æœŸ -->
                <div class="release-date" id="dispDate">January 28, 2026</div>

                <!-- æ­£æ–‡ -->
                <div class="body-content">
                    <div class="news-title" id="dispTitle">è¨ç‰¹ç¬¬äºŒå…±å’Œå›½ä¸è”åˆå›½å¼€å‘è®¡åˆ’ç½²ç­¾ç½²åˆä½œå¤‡å¿˜å½•</div>
                    
                    <div class="news-body" id="dispBody">
                        <p class="lead-paragraph"><span class="location-date">æ–°è¨ç‰¹å¸‚ï¼Œ2026å¹´1æœˆ28æ—¥</span> â€”â€” è¨ç‰¹ç¬¬äºŒå…±å’Œå›½å¤–äº¤éƒ¨ä»Šæ—¥å®£å¸ƒï¼Œæˆ‘å›½å·²ä¸è”åˆå›½å¼€å‘è®¡åˆ’ç½²ï¼ˆUNDPï¼‰æ­£å¼ç­¾ç½²ä¸ºæœŸäº”å¹´çš„æˆ˜ç•¥åˆä½œå¤‡å¿˜å½•ï¼Œæ—¨åœ¨æ¨åŠ¨å¯æŒç»­å‘å±•ç›®æ ‡ï¼ˆSDGsï¼‰åœ¨è¨ç‰¹åœ°åŒºçš„å…¨é¢è½å®ã€‚</p>
                        <p>æ ¹æ®è¯¥å¤‡å¿˜å½•ï¼Œè”åˆå›½å¼€å‘è®¡åˆ’ç½²å°†åœ¨æœªæ¥äº”å¹´å†…å‘è¨ç‰¹ç¬¬äºŒå…±å’Œå›½æä¾›æŠ€æœ¯æ´åŠ©å’Œèµ„é‡‘æ”¯æŒï¼Œé‡ç‚¹èšç„¦äºæ°”å€™å˜åŒ–é€‚åº”ã€æ•°å­—åŒ–æ²»ç†ä»¥åŠé’å¹´å°±ä¸šä¸‰å¤§é¢†åŸŸã€‚</p>
                        <p>å¤–äº¤éƒ¨é•¿Schnekovåœ¨ç­¾ç½²ä»ªå¼ä¸Šè¡¨ç¤ºï¼š"æ­¤æ¬¡åˆä½œæ ‡å¿—ç€è¨ç‰¹ç¬¬äºŒå…±å’Œå›½æ·±åº¦å‚ä¸å…¨çƒæ²»ç†ä½“ç³»çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚æˆ‘ä»¬æœŸå¾…é€šè¿‡ä¸UNDPçš„ç´§å¯†åä½œï¼Œå°†æˆ‘å›½çš„å‘å±•ç»éªŒä¸è”åˆå›½2030å¹´å¯æŒç»­å‘å±•è®®ç¨‹æœ‰æœºç»“åˆã€‚"</p>
                        <p>æ®æ‚‰ï¼Œé¦–æ‰¹åˆä½œé¡¹ç›®å°†äºä»Šå¹´ç¬¬äºŒå­£åº¦æ­£å¼å¯åŠ¨ï¼ŒåŒ…æ‹¬å»ºç«‹è¨ç‰¹æ•°å­—åˆ›æ–°ä¸­å¿ƒä»¥åŠå®æ–½"ç»¿è‰²é’å¹´å°±ä¸šè®¡åˆ’"ã€‚è”åˆå›½å¼€å‘è®¡åˆ’ç½²ç½²é•¿å¯¹æ­¤è¡¨ç¤ºé«˜åº¦èµèµï¼Œç§°è¨ç‰¹ç¬¬äºŒå…±å’Œå›½åœ¨åŒºåŸŸåˆä½œä¸­å±•ç°äº†å“è¶Šçš„é¢†å¯¼åŠ›ã€‚</p>
                    </div>
                </div>

                <!-- ç­¾ååŒº -->
                <div class="signature-section">
                    <div class="sign-off">-END-</div>
                    <div class="signature-block">
                        <div class="signature-line"></div>
                        <div class="signature-name" id="dispIssuer">Schnekov</div>
                        <div class="signature-title" id="dispIssuerTitle">å¤–äº¤éƒ¨é•¿</div>
                    </div>
                </div>

                <!-- åº•éƒ¨è”ç³»æ  -->
                <div class="footer-bar">
                    <div class="contact-item">
                        <div class="contact-icon">ğŸ“</div>
                        <div class="contact-text">
                            <span class="contact-label">åª’ä½“è”ç»œ</span>
                            <span id="dispPhone">+86 10-8888-8888</span>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">ğŸŒ</div>
                        <div class="contact-text">
                            <span class="contact-label">å®˜æ–¹ç½‘ç«™</span>
                            <span id="dispWebsite">www.mfa.gov.sr</span>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">âœ‰ï¸</div>
                        <div class="contact-text">
                            <span class="contact-label">æ–°é—»é‚®ç®±</span>
                            <span id="dispEmail">press@mfa.gov.sr</span>
                        </div>
                    </div>
                    <div class="timestamp" id="timestamp">Generated: 2026-01-28 14:32:18</div>
                </div>
            </div>

            <div class="download-section">
                <button class="btn-download" onclick="downloadDocument()">ğŸ“¥ ä¸‹è½½æ–°é—»ç¨¿å›¾ç‰‡ (PNG)</button>
            </div>
        </div>
    </div>

    <script>
        // è‡ªåŠ¨è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
        function setDefaultDate() {
            const today = new Date();
            const dateStr = today.toLocaleDateString('zh-CN', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            document.getElementById('releaseDate').value = dateStr;
            
            // åŒæ—¶æ›´æ–°è‹±æ–‡æ—¥æœŸæ˜¾ç¤º
            const enDateStr = today.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            document.getElementById('dispDate').textContent = enDateStr;
        }
        setDefaultDate();

        // æ›´æ–°æ—¶é—´æˆ³
        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.getFullYear() + '-' + 
                            String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                            String(now.getDate()).padStart(2, '0') + ' ' + 
                            String(now.getHours()).padStart(2, '0') + ':' + 
                            String(now.getMinutes()).padStart(2, '0') + ':' + 
                            String(now.getSeconds()).padStart(2, '0');
            document.getElementById('timestamp').textContent = 'Generated: ' + timestamp;
        }
        setInterval(updateTimestamp, 1000);
        updateTimestamp();

        function updateDocument() {
            // è·å–è¡¨å•å€¼
            const ministry = document.getElementById('ministry').value || 'å¤–äº¤éƒ¨';
            const department = document.getElementById('department').value || '';
            const address = document.getElementById('address').value || '';
            const date = document.getElementById('releaseDate').value || '';
            const title = document.getElementById('title').value || 'æ–°é—»æ ‡é¢˜';
            const lead = document.getElementById('lead').value || '';
            const body = document.getElementById('body').value || '';
            const issuer = document.getElementById('issuer').value || '';
            const issuerTitle = document.getElementById('issuerTitle').value || '';
            const phone = document.getElementById('phone').value || '';
            const website = document.getElementById('website').value || '';
            const email = document.getElementById('email').value || '';

            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('dispMinistry').textContent = ministry;
            document.getElementById('dispDept').textContent = department;
            document.getElementById('dispAddress').textContent = address;
            document.getElementById('dispTitle').textContent = title;
            document.getElementById('dispIssuer').textContent = issuer;
            document.getElementById('dispIssuerTitle').textContent = issuerTitle;
            document.getElementById('dispPhone').textContent = phone;
            document.getElementById('dispWebsite').textContent = website;
            document.getElementById('dispEmail').textContent = email;

            // å¤„ç†æ—¥æœŸï¼ˆä¸­æ–‡è¾“å…¥è½¬è‹±æ–‡æ˜¾ç¤ºï¼Œæˆ–ä¿æŒåŸæ ·ï¼‰
            if (date) {
                // å°è¯•è½¬æ¢ä¸ºè‹±æ–‡æ ¼å¼æ˜¾ç¤ºï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„æ˜¯ä¸­æ–‡æ—¥æœŸ
                document.getElementById('dispDate').textContent = date;
            }

            // å¤„ç†æ­£æ–‡ï¼ˆåˆå¹¶å¯¼è¯­å’Œæ­£æ–‡ï¼‰
            const bodyDiv = document.getElementById('dispBody');
            let html = '';
            
            if (lead) {
                // è‡ªåŠ¨ä¸ºé¦–æ®µæ·»åŠ æ ·å¼ï¼Œå¦‚æœåŒ…å«æ—¥æœŸåœ°ç‚¹æ ¼å¼
                let leadText = lead;
                if (!leadText.includes('</span>') && (leadText.includes('å¸‚') || leadText.includes('æ—¥'))) {
                    // å°è¯•è‡ªåŠ¨è¯†åˆ«åœ°ç‚¹æ—¥æœŸæ ¼å¼ï¼ˆå¦‚ï¼šæ–°è¨ç‰¹å¸‚ï¼Œ2026å¹´1æœˆ28æ—¥ï¼‰
                    leadText = leadText.replace(/^(.*?)(?=â€”â€”)/, '<span class="location-date">$1</span>');
                }
                html += `<p class="lead-paragraph">${leadText}</p>`;
            }
            
            if (body) {
                const paragraphs = body.split('\n').filter(p => p.trim());
                html += paragraphs.map(p => `<p>${p}</p>`).join('');
            }
            
            bodyDiv.innerHTML = html || '<p>ï¼ˆæš‚æ— å†…å®¹ï¼‰</p>';
        }

        async function downloadDocument() {
            const loading = document.getElementById('loading');
            loading.style.display = 'flex';

            await document.fonts.ready;
            await new Promise(resolve => setTimeout(resolve, 100));

            const element = document.getElementById('document');
            
            try {
                const canvas = await html2canvas(element, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    logging: false,
                    height: element.scrollHeight,
                    windowHeight: element.scrollHeight,
                    x: 0,
                    y: 0,
                    scrollX: 0,
                    scrollY: 0
                });

                const link = document.createElement('a');
                const timestamp = new Date().toISOString().slice(0,10);
                const title = document.getElementById('title').value || 'PressRelease';
                const safeTitle = title.replace(/[^\w\u4e00-\u9fa5]/g, '_').substring(0, 20);
                link.download = `SUTTER_PressRelease_${safeTitle}_${timestamp}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();

                loading.style.display = 'none';
                
                const btn = document.querySelector('.btn-download');
                const originalText = btn.textContent;
                btn.textContent = 'âœ… ä¸‹è½½æˆåŠŸ';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            } catch(err) {
                console.error(err);
                loading.style.display = 'none';
                alert('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•');
            }
        }

        // åˆå§‹åŒ–
        updateDocument();
    </script>
</body>
</html>
